# スロットゲーム ルール仕様書

**作成日:** 2026-02-28
**対象:** スロットゲーム実装担当者・デザイナー

---

## 🎰 ゲーム概要

子供用モードのスロットゲーム。3つのリールをタップして止め、絵柄の組み合わせでスタンプを獲得する。

**アクセス方法:**
- キッズモードのホーム画面「🎰 ゲームで あそぶ！」ボタン
- URL: `/slot`

---

## 🎯 当たりパターンとスタンプ数

### ゾロ目（3つ同じ絵柄）

| 絵柄 | 判定 | メッセージ | スタンプ数 |
|------|------|----------|-----------|
| 🦷 🦷 🦷 | **だいあたり！** | はが ピッカピカ！すごいね！ | **8スタンプ** |
| 🪥 🪥 🪥 | あたり！ | はみがき マスター！えらい！ | 5スタンプ |
| 🍎 🍎 🍎 | あたり！ | りんご いっぱい！おいしいね！ | 5スタンプ |
| ⭐ ⭐ ⭐ | あたり！ | おほしさま キラキラ！ | 5スタンプ |
| 💎 💎 💎 | あたり！ | ダイヤモンド みたいにピカピカ！ | 5スタンプ |
| 🌸 🌸 🌸 | あたり！ | おはな まんかい！きれいだね！ | 5スタンプ |
| 🍀 🍀 🍀 | あたり！ | よつば の クローバー！ラッキー！ | 5スタンプ |

### おしい・はずれ

| 判定 | 条件 | メッセージ | スタンプ数 |
|------|------|----------|-----------|
| おしい！ | 隣接する2リールが同じ絵柄 | もうちょっとだよ！またやってみよう！ | 1スタンプ |
| はずれ... | 3リールすべてバラバラ | またちゃれんじしてね！ | 1スタンプ |

> はずれ・おしいの場合もスタンプ1個を付与する（子供へのフォロー）

---

## 🔢 スタンプ付与まとめ

| 結果 | スタンプ数 |
|------|----------|
| 🦷🦷🦷 だいあたり | **8個** |
| ゾロ目あたり（だいあたり以外） | **5個** |
| おしい・はずれ | **1個** |

---

## 🃏 リールに使う絵柄一覧

| 絵柄 | テーマ | 色 |
|------|--------|---|
| 🦷 | 歯（メイン）※画像 | 白 |
| 🪥 | 歯ブラシ | 多色 |
| 🍎 | りんご（食べもの） | 赤 |
| ⭐ | 星 | 黄 |
| 💎 | ダイヤモンド | 青 |
| 🌸 | 花（季節） | 桃 |
| 🍀 | クローバー（自然） | 緑 |

> 🦷 はゲーム内では `/images/tooth.png` 画像を使用（絵文字ではない）

---

## ⚙️ ゲーム操作フロー

```
1. 「まわす！」ボタンをタップ
   → 3つのリールが回転開始

2. リールをそれぞれタップして止める
   → 1つずつ順番にタップして停止

3. 3つ全て止まったら結果判定
   → 当たりパターンと照合

4. 結果表示
   → あたり: 紙吹雪エフェクト + スタンプ付与
   → はずれ: 1スタンプ付与

5. もう一度あそぶ
```

---

## 📁 実装ファイル

| ファイル | 役割 |
|---------|------|
| [app/slot/page.tsx](../app/slot/page.tsx) | スロットゲーム本体 |
| [components/(kids)/KidsHome.tsx](../components/(kids)/KidsHome.tsx) | 「ゲームであそぶ！」ボタン |

---

## 📝 実装上の注意

- スタンプ付与のAPI呼び出しは `POST /api/stamps` を使用
- 1日に何回でもプレイ可能（回数制限なし）
- 判定ロジック: `WINNING_PATTERNS[reel0 + reel1 + reel2]` のキー完全一致

---

## 改訂履歴

| 日付 | バージョン | 内容 |
|------|----------|------|
| 2026-02-28 | 1.0 | 初版作成 |
| 2026-02-28 | 1.1 | 絵柄・スタンプ数・メッセージをコード実装に合わせて修正。特殊パターン削除、おしい判定追加 |
