# つくばホワイト歯科 × ハブラーシカ LINEミニアプリ ドキュメント

このフォルダには、プロジェクトの仕様書、実装履歴、タスク管理などのドキュメントがまとめられています。

---

## 📚 ドキュメント一覧

### 📖 プロジェクト概要・仕様書

| ファイル名 | 内容 | 最終更新 |
|-----------|------|---------|
| [01_プロジェクト概要.md](01_プロジェクト概要.md) | プロジェクト全体のコンセプト、主要機能、技術スタック、デザイン方針 | 2026-02-08 |
| [02_ファイル構成.md](02_ファイル構成.md) | プロジェクト全体のフォルダ・ファイル構成の説明 | 2026-02-24 |
| [03_機能仕様書.md](03_機能仕様書.md) | 機能の詳細仕様（スタンプ、特典、家族、イベントログ等） | 2026-02-24 |
| [04_子供用モード仕様書.md](04_子供用モード仕様書.md) | 子供用モードの実装仕様、デザイン要件、フォルダ構成 | 2026-02-11 |
| [05_Database_Schema.md](05_Database_Schema.md) | Supabaseデータベーススキーマ全体図（ER図、テーブル定義、関数、トリガー） | 2026-02-24 |

---

### ⚙️ Phase 2 機能（家族・QR・イベントログ）

| ファイル名 | 内容 | 最終更新 |
|-----------|------|---------|
| [20_家族機能_設計経緯と技術判断.md](20_家族機能_設計経緯と技術判断.md) | 家族機能の設計経緯と技術的判断の記録 | 2026-02-17 |
| [25_仮想メンバー機能仕様書.md](25_仮想メンバー機能仕様書.md) | スマホなし子供の代理管理機能 | 2026-02-17 |
| [70_子供画面切替機能仕様.md](70_子供画面切替機能仕様.md) | 子供画面切替機能（25に統合済み） | 2026-02-19 |
| [81_QRコード表示_LIFFアプリ開発者へ.md](81_QRコード表示_LIFFアプリ開発者へ.md) | QRコード仕様（`stamps` フィールド修正済み） | 2026-02-24 |
| [82_QRコードスキャン機能_実装完了.md](82_QRコードスキャン機能_実装完了.md) | QRスキャン機能実装完了報告書 | 2026-02-24 |
| [83_イベントログ設計（ユーザの操作ログ）.md](83_イベントログ設計（ユーザの操作ログ）.md) | イベントログ設計書（LIFF開発者向け） | 2026-02-23 |
| [84_イベントログ仕様_管理ダッシュボード開発者向け.md](84_イベントログ仕様_管理ダッシュボード開発者向け.md) | イベントログ仕様（管理画面開発者向け） | 2026-02-23 |

---

### ✅ 開発・タスク管理

| ファイル名 | 内容 | 最終更新 |
|-----------|------|---------|
| [10_TODO.md](10_TODO.md) | タスク管理、進捗状況、未実装機能、今後の開発予定 | 2026-02-14 |

---

### 📊 実装履歴・変更ログ

| ファイル名 | 内容 | 最終更新 |
|-----------|------|---------|
| [90_実装履歴.md](90_実装履歴.md) | 日次の実装内容を時系列で記録（追記型） | 2026-02-24 |
| [91_仕様変更履歴.md](91_仕様変更履歴.md) | 重要な仕様変更の履歴（スタンプシステムの変更など） | 2026-02-09 |
| [100_主な機能一覧（クライアント説明用）.md](100_主な機能一覧（クライアント説明用）.md) | クライアント向け機能説明 | 2026-02-24 |
| [200_実行コマンド.md](200_実行コマンド.md) | 開発・デプロイコマンド一覧 | 2026-02-24 |

---

### 🔧 並行開発ログ

| ファイル名 | 内容 | 担当 |
|-----------|------|------|
| [Implementation_Log_mio.md](Implementation_Log_mio.md) | mioの実装作業記録（並行開発用） | mio |

---

### 🗄️ アーカイブ

過去のテスト結果や古い仕様書は [archive/](archive/) フォルダに保存されています。

---

## 🚀 クイックスタート

### 1. プロジェクトの全体像を知りたい
→ [01_プロジェクト概要.md](01_プロジェクト概要.md)

### 2. どんな機能があるか知りたい
→ [03_機能仕様書.md](03_機能仕様書.md)

### 3. データベース構造を理解したい
→ [05_Database_Schema.md](05_Database_Schema.md)

### 4. 何が完了していて、何が未実装か知りたい
→ [10_TODO.md](10_TODO.md)

### 5. 最近の実装内容を知りたい
→ [90_実装履歴.md](90_実装履歴.md)

### 6. フォルダ構成を理解したい
→ [02_ファイル構成.md](02_ファイル構成.md)

---

## 📝 ドキュメントの更新ルール

### 実装履歴の記録

新しい実装を行った場合、以下を更新してください：

1. **[90_実装履歴.md](90_実装履歴.md)** に日付セクションを追加し、実装内容を記録
2. **[10_TODO.md](10_TODO.md)** の完了済みタスクに移動、改訂履歴を更新

### 仕様変更の記録

重要な仕様変更（データベース設計、API仕様など）を行った場合：

1. **[91_仕様変更履歴.md](91_仕様変更履歴.md)** に変更内容を記録
2. 該当する仕様書（01〜04）を更新

---

## 🏗️ プロジェクト情報

**プロジェクト名:** つくばホワイト歯科 × ハブラーシカ LINEミニアプリ

**技術スタック:**
- Next.js 16.1.6 (App Router)
- React 19.2.4
- TypeScript
- Tailwind CSS
- LINE LIFF SDK
- Supabase (PostgreSQL)

**開発環境:**
- ローカル: http://localhost:3000
- テスト: ngrok経由
- 本番: Vercel

---

## 📞 問い合わせ・サポート

ドキュメントに関する質問や、更新が必要な箇所があれば、開発チームにお知らせください。

---

## 🔄 最新の更新（2026-02-24）

### ドキュメント整理完了
- ✅ Doc/81: `points` → `stamps` に全面修正（重大バグの原因を修正）
- ✅ Doc/82: QRスキャン実装完了報告書に仕様を統合
- ✅ Doc/02: `lib/analytics.ts` とイベントログ関連を追加
- ✅ Doc/03: イベントログ機能の章（8章）を追加
- ✅ Doc/05: `event_logs` テーブルと2つのビューを追加

### 実装済み機能（Phase 2.7）
- ✅ イベントログ機能（ユーザー行動分析・マーケティング効果測定）
- ✅ QRコードスキャン機能（`stamps` フィールドで正常動作）
- ✅ 家族管理・子供画面切替のイベント記録
- ✅ SERVICE_ROLE_KEY依存削除（RLSポリシー改善）

---

**最終更新日:** 2026-02-24
